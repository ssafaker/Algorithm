<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Algorithm Journey Map</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            overflow: auto;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header h1 {
            color: #667eea;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            color: #666;
            font-size: 1.1em;
        }

        .legend {
            background: rgba(255, 255, 255, 0.9);
            padding: 15px;
            margin: 20px;
            border-radius: 10px;
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .legend-line {
            width: 40px;
            height: 3px;
        }

        .legend-line.prerequisite { background: #4CAF50; }
        .legend-line.extension { background: #FF9800; }
        .legend-line.related { background: #2196F3; }
        .legend-line.optimization { background: #E91E63; }

        .controls {
            background: rgba(255, 255, 255, 0.9);
            padding: 15px;
            margin: 20px;
            border-radius: 10px;
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .controls button {
            padding: 10px 20px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: background 0.3s;
        }

        .controls button:hover {
            background: #764ba2;
        }

        .controls button.active {
            background: #764ba2;
        }

        .canvas-container {
            position: relative;
            margin: 20px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 40px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            overflow: auto;
            max-height: 1400px;
        }

        #canvas {
            display: block;
            cursor: default;
        }

        .node {
            position: absolute;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 15px 20px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid transparent;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            min-width: 180px;
            text-align: center;
        }

        .node:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
            border-color: #667eea;
            z-index: 10;
        }

        .node.selected {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: #764ba2;
            transform: scale(1.1);
            z-index: 10;
        }

        .node.algorithm {
            border-left: 5px solid #667eea;
        }

        .node.math {
            border-left: 5px solid #f5576c;
        }

        .node.geometry {
            border-left: 5px solid #00f2fe;
        }

        .node-name {
            font-weight: 700;
            font-size: 0.95em;
            margin-bottom: 5px;
        }

        .node-tier {
            font-size: 0.75em;
            opacity: 0.7;
            margin-top: 5px;
        }

        .node.selected .node-tier {
            opacity: 0.9;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 15px;
            max-width: 700px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            position: relative;
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 28px;
            cursor: pointer;
            color: #999;
            transition: color 0.3s;
        }

        .modal-close:hover {
            color: #333;
        }

        .modal-title {
            font-size: 1.8em;
            margin-bottom: 15px;
            color: #667eea;
        }

        .modal-description {
            line-height: 1.6;
            margin-bottom: 20px;
            color: #555;
        }

        .modal-section {
            margin: 20px 0;
        }

        .modal-section h3 {
            font-size: 1.2em;
            margin-bottom: 10px;
            color: #764ba2;
        }

        .problem-list {
            list-style: none;
        }

        .problem-item {
            padding: 10px;
            margin: 5px 0;
            background: #f8f9fa;
            border-radius: 5px;
            transition: background 0.3s;
        }

        .problem-item:hover {
            background: #e9ecef;
        }

        .problem-item a {
            color: #667eea;
            text-decoration: none;
            font-weight: 500;
        }

        .problem-item a:hover {
            text-decoration: underline;
        }

        .tag-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .tag {
            background: #e9ecef;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.9em;
            color: #495057;
        }

        .relation-list {
            list-style: none;
        }

        .relation-item {
            padding: 8px;
            margin: 5px 0;
            border-left: 3px solid #667eea;
            padding-left: 12px;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸ—ºï¸ The Algorithm Journey Map</h1>
        <p>BOJ íƒœê·¸ ê¸°ë°˜ ì•Œê³ ë¦¬ì¦˜ í•™ìŠµ ë¡œë“œë§µ - ì‹œê°ì  ì—°ê²° ê´€ê³„</p>
    </div>

    <div class="legend">
        <div class="legend-item">
            <div class="legend-line prerequisite"></div>
            <span>ì„ í–‰ ê´€ê³„ (â†’)</span>
        </div>
        <div class="legend-item">
            <div class="legend-line extension"></div>
            <span>í™•ì¥ ê´€ê³„ (â‡¢)</span>
        </div>
        <div class="legend-item">
            <div class="legend-line related"></div>
            <span>ì—°ê´€ ê´€ê³„ (ğŸ”—)</span>
        </div>
        <div class="legend-item">
            <div class="legend-line optimization"></div>
            <span>ìµœì í™” (âš¡)</span>
        </div>
    </div>

    <div class="controls">
        <button onclick="showAllStreams()" class="active" id="btnAll">ì „ì²´ ë³´ê¸°</button>
        <button onclick="showStream('algorithm')" id="btnAlgorithm">ìë£Œêµ¬ì¡°ì™€ ì•Œê³ ë¦¬ì¦˜</button>
        <button onclick="showStream('math')" id="btnMath">ìˆ˜í•™</button>
        <button onclick="showStream('geometry')" id="btnGeometry">ê³„ì‚° ê¸°í•˜</button>
        <button onclick="resetToTierLayout()">Tierë³„ ì •ë ¬</button>
        <button onclick="startForceLayout()" id="btnForceLayout">ìë™ ë°°ì¹˜ ì‹œì‘</button>
        <button onclick="exportLayout()">ë°°ì¹˜ ì €ì¥</button>
        <button onclick="importLayout()">ë°°ì¹˜ ë¡œë“œ</button>
        <button onclick="resetView()">ì„ íƒ ì´ˆê¸°í™”</button>
    </div>

    <div class="canvas-container">
        <canvas id="canvas"></canvas>
    </div>

    <div class="modal" id="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeModal()">&times;</span>
            <h2 class="modal-title" id="modalTitle"></h2>
            <div class="modal-description" id="modalDescription"></div>
            <div class="modal-section">
                <h3>ğŸ·ï¸ ê´€ë ¨ íƒœê·¸</h3>
                <div class="tag-list" id="modalTags"></div>
            </div>
            <div class="modal-section">
                <h3>ğŸ“š ì¶”ì²œ ë¬¸ì œ</h3>
                <ul class="problem-list" id="modalProblems"></ul>
            </div>
            <div class="modal-section" id="relationsSection">
                <h3>ğŸ”— ì—°ê´€ ê´€ê³„</h3>
                <ul class="relation-list" id="modalRelations"></ul>
            </div>
        </div>
    </div>

    <script>
        const algorithmData = [
            // Tier 1 - Algorithm Stream
            { id: "array_list", name: "ë°°ì—´, ì—°ê²° ë¦¬ìŠ¤íŠ¸", tier: 1, stream: "algorithm", x: 1120.5217757590472, y: 289,
                tags: ["data_structures"], description: "í”„ë¡œê·¸ë˜ë°ì˜ ê°€ì¥ ê¸°ë³¸ì´ ë˜ëŠ” ìë£Œêµ¬ì¡°ì…ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 10818: ìµœì†Œ, ìµœëŒ€", url: "https://www.acmicpc.net/problem/10818" }], relations: [] },
            
            { id: "stack_queue", name: "ìŠ¤íƒ, í, ë±", tier: 1, stream: "algorithm", x: 542.1365655571078, y: 159.1076625255298,
                tags: ["stack", "queue"], description: "LIFOì™€ FIFO êµ¬ì¡°ì˜ ê¸°ë³¸ ìë£Œêµ¬ì¡°ì…ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 10828: ìŠ¤íƒ", url: "https://www.acmicpc.net/problem/10828" }], relations: [] },
            
            { id: "hash_set", name: "í•´ì‹œ í…Œì´ë¸”", tier: 1, stream: "algorithm", x: 500, y: 100,
                tags: ["hashing"], description: "O(1) ì‹œê°„ì— ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  ê²€ìƒ‰í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 1620: ë‚˜ëŠ”ì•¼ í¬ì¼“ëª¬ ë§ˆìŠ¤í„°", url: "https://www.acmicpc.net/problem/1620" }], relations: [] },
            
            { id: "sorting", name: "ì •ë ¬", tier: 1, stream: "algorithm", x: 700, y: 100,
                tags: ["sorting"], description: "ë°ì´í„°ë¥¼ íŠ¹ì • ìˆœì„œë¡œ ë°°ì—´í•˜ëŠ” ê¸°ë³¸ ì•Œê³ ë¦¬ì¦˜ì…ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 2750: ìˆ˜ ì •ë ¬í•˜ê¸°", url: "https://www.acmicpc.net/problem/2750" }], relations: [] },
            
            { id: "recursion", name: "ì¬ê·€", tier: 1, stream: "algorithm", x: 900, y: 100,
                tags: ["recursion"], description: "í•¨ìˆ˜ê°€ ìê¸° ìì‹ ì„ í˜¸ì¶œí•˜ëŠ” í”„ë¡œê·¸ë˜ë° ê¸°ë²•ì…ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 10872: íŒ©í† ë¦¬ì–¼", url: "https://www.acmicpc.net/problem/10872" }], relations: [] },
            
            { id: "bruteforce", name: "ì™„ì „ íƒìƒ‰", tier: 1, stream: "algorithm", x: 1100, y: 100,
                tags: ["bruteforcing"], description: "ê°€ëŠ¥í•œ ëª¨ë“  ê²½ìš°ì˜ ìˆ˜ë¥¼ íƒìƒ‰í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 2798: ë¸”ë™ì­", url: "https://www.acmicpc.net/problem/2798" }], relations: [] },

            // Tier 2 - Algorithm Stream
            { id: "binary_search", name: "ì´ì§„ íƒìƒ‰", tier: 2, stream: "algorithm", x: 700, y: 250,
                tags: ["binary_search"], description: "ì •ë ¬ëœ ë°°ì—´ì—ì„œ O(log N)ì— íƒìƒ‰í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 1920: ìˆ˜ ì°¾ê¸°", url: "https://www.acmicpc.net/problem/1920" }],
                relations: [{ target: "sorting", type: "prerequisite" }] },
            
            { id: "two_pointer", name: "íˆ¬ í¬ì¸í„°", tier: 2, stream: "algorithm", x: 200, y: 250,
                tags: ["two_pointer"], description: "ë‘ ê°œì˜ í¬ì¸í„°ë¡œ íš¨ìœ¨ì  íƒìƒ‰ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 2003: ìˆ˜ë“¤ì˜ í•© 2", url: "https://www.acmicpc.net/problem/2003" }],
                relations: [{ target: "array_list", type: "prerequisite" }] },
            
            { id: "prefix_sum", name: "ëˆ„ì  í•©", tier: 2, stream: "algorithm", x: 400, y: 250,
                tags: ["prefix_sum"], description: "êµ¬ê°„ í•©ì„ O(1)ì— êµ¬í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 11659: êµ¬ê°„ í•© êµ¬í•˜ê¸° 4", url: "https://www.acmicpc.net/problem/11659" }],
                relations: [{ target: "array_list", type: "prerequisite" }] },
            
            { id: "greedy", name: "ê·¸ë¦¬ë””", tier: 2, stream: "algorithm", x: 500, y: 250,
                tags: ["greedy"], description: "ë§¤ ìˆœê°„ ìµœì„ ì˜ ì„ íƒì„ í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 11047: ë™ì „ 0", url: "https://www.acmicpc.net/problem/11047" }],
                relations: [{ target: "sorting", type: "related" }] },
            
            { id: "priority_queue", name: "ìš°ì„ ìˆœìœ„ í", tier: 2, stream: "algorithm", x: 900, y: 250,
                tags: ["heap"], description: "ìµœëŒ“ê°’/ìµœì†Ÿê°’ì„ O(log N)ì— ì¶”ì¶œí•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 1927: ìµœì†Œ í™", url: "https://www.acmicpc.net/problem/1927" }],
                relations: [{ target: "array_list", type: "prerequisite" }] },
            
            { id: "graph_basic", name: "ê·¸ë˜í”„ ê¸°ë³¸", tier: 2, stream: "algorithm", x: 1100, y: 250,
                tags: ["graph"], description: "ê·¸ë˜í”„ì˜ ê¸°ë³¸ ê°œë…ê³¼ í‘œí˜„ ë°©ë²•ì…ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 1260: DFSì™€ BFS", url: "https://www.acmicpc.net/problem/1260" }],
                relations: [{ target: "array_list", type: "prerequisite" }] },
            
            { id: "backtracking", name: "ë°±íŠ¸ë˜í‚¹", tier: 2, stream: "algorithm", x: 1000, y: 250,
                tags: ["backtracking"], description: "ì¡°ê±´ì„ ìœ„ë°°í•˜ë©´ ì´ì „ìœ¼ë¡œ ëŒì•„ê°€ëŠ” íƒìƒ‰ ê¸°ë²•ì…ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 15649: Nê³¼ M (1)", url: "https://www.acmicpc.net/problem/15649" }],
                relations: [{ target: "bruteforce", type: "extension" }, { target: "recursion", type: "prerequisite" }] },

            // Tier 3 - Algorithm Stream
            { id: "dfs_bfs", name: "DFS, BFS", tier: 3, stream: "algorithm", x: 1100, y: 400,
                tags: ["dfs", "bfs"], description: "ê·¸ë˜í”„ íƒìƒ‰ì˜ ë‘ ê°€ì§€ ëŒ€í‘œì ì¸ ë°©ë²•ì…ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 1260: DFSì™€ BFS", url: "https://www.acmicpc.net/problem/1260" }],
                relations: [{ target: "graph_basic", type: "prerequisite" }, { target: "stack_queue", type: "prerequisite" }] },
            
            { id: "dijkstra", name: "ë‹¤ìµìŠ¤íŠ¸ë¼", tier: 3, stream: "algorithm", x: 900, y: 400,
                tags: ["dijkstra"], description: "ìµœë‹¨ ê²½ë¡œë¥¼ êµ¬í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì…ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 1753: ìµœë‹¨ê²½ë¡œ", url: "https://www.acmicpc.net/problem/1753" }],
                relations: [{ target: "graph_basic", type: "prerequisite" }, { target: "priority_queue", type: "prerequisite" }] },
            
            { id: "dp_basic", name: "ë™ì  ê³„íšë²•", tier: 3, stream: "algorithm", x: 700, y: 400,
                tags: ["dp"], description: "ë¶€ë¶„ ë¬¸ì œì˜ ê²°ê³¼ë¥¼ ì €ì¥í•˜ì—¬ ì¬ì‚¬ìš©í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 1463: 1ë¡œ ë§Œë“¤ê¸°", url: "https://www.acmicpc.net/problem/1463" }],
                relations: [{ target: "recursion", type: "prerequisite" }] },
            
            { id: "divide_conquer", name: "ë¶„í•  ì •ë³µ", tier: 3, stream: "algorithm", x: 500, y: 400,
                tags: ["divide_and_conquer"], description: "ë¬¸ì œë¥¼ ì‘ê²Œ ë‚˜ëˆ„ì–´ í•´ê²°í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 2740: í–‰ë ¬ ê³±ì…ˆ", url: "https://www.acmicpc.net/problem/2740" }],
                relations: [{ target: "recursion", type: "prerequisite" }] },
            
            { id: "union_find", name: "Union-Find", tier: 3, stream: "algorithm", x: 300, y: 400,
                tags: ["disjoint_set"], description: "ì„œë¡œì†Œ ì§‘í•©ì„ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 1717: ì§‘í•©ì˜ í‘œí˜„", url: "https://www.acmicpc.net/problem/1717" }],
                relations: [{ target: "array_list", type: "prerequisite" }] },
            
            { id: "meet_in_the_middle", name: "ì¤‘ê°„ì—ì„œ ë§Œë‚˜ê¸°", tier: 3, stream: "algorithm", x: 100, y: 400,
                tags: ["meet_in_the_middle"], description: "2^N íƒìƒ‰ì„ 2^(N/2) ë‘ ë²ˆìœ¼ë¡œ ìµœì í™”í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 1208: ë¶€ë¶„ìˆ˜ì—´ì˜ í•© 2", url: "https://www.acmicpc.net/problem/1208" }],
                relations: [{ target: "bruteforce", type: "optimization" }] },

            // Tier 4 - Algorithm Stream
            { id: "segment_tree", name: "ì„¸ê·¸ë¨¼íŠ¸ íŠ¸ë¦¬", tier: 4, stream: "algorithm", x: 400, y: 550,
                tags: ["segment_tree"], description: "êµ¬ê°„ ì¿¼ë¦¬ë¥¼ O(log N)ì— ì²˜ë¦¬í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 2042: êµ¬ê°„ í•© êµ¬í•˜ê¸°", url: "https://www.acmicpc.net/problem/2042" }],
                relations: [{ target: "recursion", type: "prerequisite" }, { target: "divide_conquer", type: "related" }] },
            
            { id: "trie", name: "íŠ¸ë¼ì´", tier: 4, stream: "algorithm", x: 200, y: 550,
                tags: ["trie"], description: "ë¬¸ìì—´ ì§‘í•©ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì €ì¥í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 5052: ì „í™”ë²ˆí˜¸ ëª©ë¡", url: "https://www.acmicpc.net/problem/5052" }],
                relations: [{ target: "recursion", type: "prerequisite" }] },
            
            { id: "topological_sort", name: "ìœ„ìƒ ì •ë ¬", tier: 4, stream: "algorithm", x: 1100, y: 550,
                tags: ["topological_sorting"], description: "ë°©í–¥ ê·¸ë˜í”„ì˜ ì •ì ì„ ìˆœì„œëŒ€ë¡œ ë‚˜ì—´í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 2252: ì¤„ ì„¸ìš°ê¸°", url: "https://www.acmicpc.net/problem/2252" }],
                relations: [{ target: "dfs_bfs", type: "prerequisite" }] },
            
            { id: "mst", name: "ìµœì†Œ ì‹ ì¥ íŠ¸ë¦¬", tier: 4, stream: "algorithm", x: 300, y: 550,
                tags: ["mst"], description: "ëª¨ë“  ì •ì ì„ ìµœì†Œ ë¹„ìš©ìœ¼ë¡œ ì—°ê²°í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 1197: ìµœì†Œ ìŠ¤íŒ¨ë‹ íŠ¸ë¦¬", url: "https://www.acmicpc.net/problem/1197" }],
                relations: [{ target: "union_find", type: "prerequisite" }, { target: "graph_basic", type: "prerequisite" }] },
            
            { id: "lca", name: "ìµœì†Œ ê³µí†µ ì¡°ìƒ", tier: 4, stream: "algorithm", x: 900, y: 550,
                tags: ["lca"], description: "íŠ¸ë¦¬ì—ì„œ ë‘ ë…¸ë“œì˜ ê³µí†µ ì¡°ìƒì„ ì°¾ìŠµë‹ˆë‹¤.",
                problems: [{ name: "BOJ 11437: LCA", url: "https://www.acmicpc.net/problem/11437" }],
                relations: [{ target: "dfs_bfs", type: "prerequisite" }] },
            
            { id: "scc", name: "ê°•í•œ ì—°ê²° ìš”ì†Œ", tier: 4, stream: "algorithm", x: 1000, y: 550,
                tags: ["scc"], description: "ë°©í–¥ ê·¸ë˜í”„ì—ì„œ ê°•í•˜ê²Œ ì—°ê²°ëœ ì •ì  ì§‘í•©ì„ ì°¾ìŠµë‹ˆë‹¤.",
                problems: [{ name: "BOJ 2150: SCC", url: "https://www.acmicpc.net/problem/2150" }],
                relations: [{ target: "dfs_bfs", type: "prerequisite" }] },
            
            { id: "kmp", name: "KMP", tier: 4, stream: "algorithm", x: 600, y: 550,
                tags: ["kmp"], description: "O(N+M)ì— íŒ¨í„´ ë§¤ì¹­ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 1786: ì°¾ê¸°", url: "https://www.acmicpc.net/problem/1786" }],
                relations: [{ target: "array_list", type: "prerequisite" }] },
            
            { id: "bitmask_dp", name: "ë¹„íŠ¸ë§ˆìŠ¤í¬ DP", tier: 4, stream: "algorithm", x: 700, y: 550,
                tags: ["bitmask", "dp"], description: "ë¹„íŠ¸ ì—°ì‚°ìœ¼ë¡œ ì§‘í•© ìƒíƒœë¥¼ í‘œí˜„í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 1014: ì»¨ë‹", url: "https://www.acmicpc.net/problem/1014" }],
                relations: [{ target: "dp_basic", type: "prerequisite" }] },

            // Tier 5 - Algorithm Stream
            { id: "lazy_propagation", name: "Lazy Propagation", tier: 5, stream: "algorithm", x: 400, y: 700,
                tags: ["lazy_propagation"], description: "êµ¬ê°„ ì—…ë°ì´íŠ¸ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 10999: êµ¬ê°„ í•© êµ¬í•˜ê¸° 2", url: "https://www.acmicpc.net/problem/10999" }],
                relations: [{ target: "segment_tree", type: "extension" }] },
            
            { id: "mos_algorithm", name: "Mo's Algorithm", tier: 5, stream: "algorithm", x: 600, y: 700,
                tags: ["mos"], description: "ì˜¤í”„ë¼ì¸ ì¿¼ë¦¬ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 13545: ìˆ˜ì—´ê³¼ ì¿¼ë¦¬ 0", url: "https://www.acmicpc.net/problem/13545" }],
                relations: [{ target: "segment_tree", type: "related" }] },
            
            { id: "max_flow", name: "ìµœëŒ€ ìœ ëŸ‰", tier: 5, stream: "algorithm", x: 1000, y: 700,
                tags: ["max_flow"], description: "ë„¤íŠ¸ì›Œí¬ì˜ ìµœëŒ€ ìœ ëŸ‰ì„ êµ¬í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 6086: ìµœëŒ€ ìœ ëŸ‰", url: "https://www.acmicpc.net/problem/6086" }],
                relations: [{ target: "dfs_bfs", type: "prerequisite" }] },
            
            { id: "aho_corasick", name: "ì•„í˜¸-ì½”ë¼ì‹", tier: 5, stream: "algorithm", x: 200, y: 700,
                tags: ["aho_corasick"], description: "ì—¬ëŸ¬ íŒ¨í„´ì„ ë™ì‹œì— ê²€ìƒ‰í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 9250: ë¬¸ìì—´ ì§‘í•© íŒë³„", url: "https://www.acmicpc.net/problem/9250" }],
                relations: [{ target: "trie", type: "extension" }, { target: "kmp", type: "related" }] },
            
            { id: "convex_hull_trick", name: "ì»¨ë²¡ìŠ¤ í— íŠ¸ë¦­", tier: 5, stream: "algorithm", x: 700, y: 700,
                tags: ["convex_hull_trick"], description: "DP ìµœì í™” ê¸°ë²•ì…ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 12795: ë°˜í‰ë©´ ë•…ë”°ë¨¹ê¸°", url: "https://www.acmicpc.net/problem/12795" }],
                relations: [{ target: "dp_basic", type: "optimization" }] },

            // Math Stream
            { id: "gcd_lcm", name: "ìµœëŒ€ê³µì•½ìˆ˜/ìµœì†Œê³µë°°ìˆ˜", tier: 1, stream: "math", x: 1400, y: 100,
                tags: ["math", "euclidean"], description: "ìœ í´ë¦¬ë“œ í˜¸ì œë²•ìœ¼ë¡œ GCD/LCMì„ êµ¬í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 2609: ìµœëŒ€ê³µì•½ìˆ˜ì™€ ìµœì†Œê³µë°°ìˆ˜", url: "https://www.acmicpc.net/problem/2609" }],
                relations: [] },
            
            { id: "prime_sieve", name: "ì†Œìˆ˜ íŒë³„", tier: 1, stream: "math", x: 1600, y: 100,
                tags: ["primality_test"], description: "ì—ë¼í† ìŠ¤í…Œë„¤ìŠ¤ì˜ ì²´ë¡œ ì†Œìˆ˜ë¥¼ ì°¾ìŠµë‹ˆë‹¤.",
                problems: [{ name: "BOJ 1929: ì†Œìˆ˜ êµ¬í•˜ê¸°", url: "https://www.acmicpc.net/problem/1929" }],
                relations: [] },
            
            { id: "modular_arithmetic", name: "ëª¨ë“ˆëŸ¬ ì—°ì‚°", tier: 2, stream: "math", x: 1400, y: 250,
                tags: ["modular"], description: "í° ìˆ˜ì˜ ë‚˜ë¨¸ì§€ ì—°ì‚°ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 10869: ì‚¬ì¹™ì—°ì‚°", url: "https://www.acmicpc.net/problem/10869" }],
                relations: [] },
            
            { id: "combinatorics", name: "ìˆœì—´ê³¼ ì¡°í•©", tier: 2, stream: "math", x: 1600, y: 250,
                tags: ["combinatorics"], description: "ê²½ìš°ì˜ ìˆ˜ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 15439: ë² ë¼ì˜ íŒ¨ì…˜", url: "https://www.acmicpc.net/problem/15439" }],
                relations: [{ target: "modular_arithmetic", type: "related" }] },
            
            { id: "extended_euclidean", name: "í™•ì¥ ìœ í´ë¦¬ë“œ", tier: 3, stream: "math", x: 1400, y: 400,
                tags: ["extended_euclidean"], description: "ëª¨ë“ˆëŸ¬ ê³±ì…ˆ ì—­ì›ì„ êµ¬í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 14565: ì—­ì› êµ¬í•˜ê¸°", url: "https://www.acmicpc.net/problem/14565" }],
                relations: [{ target: "gcd_lcm", type: "extension" }] },
            
            { id: "chinese_remainder", name: "ì¤‘êµ­ì¸ì˜ ë‚˜ë¨¸ì§€ ì •ë¦¬", tier: 3, stream: "math", x: 1600, y: 400,
                tags: ["crt"], description: "ì—¬ëŸ¬ í•©ë™ì‹ì˜ í•´ë¥¼ êµ¬í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 6064: ì¹´ì‰ ë‹¬ë ¥", url: "https://www.acmicpc.net/problem/6064" }],
                relations: [{ target: "gcd_lcm", type: "prerequisite" }] },
            
            { id: "euler_phi", name: "ì˜¤ì¼ëŸ¬ í”¼ í•¨ìˆ˜", tier: 4, stream: "math", x: 1600, y: 550,
                tags: ["euler_phi"], description: "ì„œë¡œì†Œ ê°œìˆ˜ë¥¼ êµ¬í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 11689: GCD(n, k) = 1", url: "https://www.acmicpc.net/problem/11689" }],
                relations: [{ target: "prime_sieve", type: "prerequisite" }] },
            
            { id: "inclusion_exclusion", name: "í¬í•¨-ë°°ì œ ì›ë¦¬", tier: 4, stream: "math", x: 1400, y: 550,
                tags: ["inclusion_exclusion"], description: "ì§‘í•©ì˜ í•©ì§‘í•© í¬ê¸°ë¥¼ êµ¬í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 1557: ì œê³± ã„´ã„´", url: "https://www.acmicpc.net/problem/1557" }],
                relations: [{ target: "combinatorics", type: "related" }] },
            
            { id: "fft", name: "FFT", tier: 5, stream: "math", x: 1400, y: 700,
                tags: ["fft"], description: "ë‹¤í•­ì‹ ê³±ì…ˆì„ O(N log N)ì— ìˆ˜í–‰í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 1067: ì´ë™", url: "https://www.acmicpc.net/problem/1067" }],
                relations: [{ target: "divide_conquer", type: "related" }] },
            
            { id: "miller_rabin", name: "ë°€ëŸ¬-ë¼ë¹ˆ", tier: 5, stream: "math", x: 1600, y: 700,
                tags: ["miller_rabin"], description: "í° ìˆ˜ì˜ ì†Œìˆ˜ íŒë³„ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 5615: ì•„íŒŒíŠ¸ ì„ëŒ€", url: "https://www.acmicpc.net/problem/5615" }],
                relations: [{ target: "prime_sieve", type: "extension" }] },

            // Geometry Stream
            { id: "geometry_basics", name: "ì , ì„ , ë²¡í„°", tier: 3, stream: "geometry", x: 1900, y: 400,
                tags: ["geometry"], description: "ê³„ì‚° ê¸°í•˜ì˜ ê¸°ë³¸ ê°œë…ì…ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 1002: í„°ë ›", url: "https://www.acmicpc.net/problem/1002" }],
                relations: [] },
            
            { id: "ccw", name: "CCW", tier: 3, stream: "geometry", x: 2100, y: 400,
                tags: ["ccw"], description: "ì„¸ ì ì˜ ë°©í–¥ ê´€ê³„ë¥¼ íŒë³„í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 11758: CCW", url: "https://www.acmicpc.net/problem/11758" }],
                relations: [{ target: "geometry_basics", type: "prerequisite" }] },
            
            { id: "line_intersection", name: "ì„ ë¶„ êµì°¨ íŒì •", tier: 4, stream: "geometry", x: 2100, y: 550,
                tags: ["line_intersection"], description: "ë‘ ì„ ë¶„ì˜ êµì°¨ë¥¼ íŒë³„í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 17387: ì„ ë¶„ êµì°¨ 2", url: "https://www.acmicpc.net/problem/17387" }],
                relations: [{ target: "ccw", type: "prerequisite" }] },
            
            { id: "convex_hull", name: "ì»¨ë²¡ìŠ¤ í—", tier: 4, stream: "geometry", x: 1900, y: 550,
                tags: ["convex_hull"], description: "ë³¼ë¡ ê»ì§ˆì„ êµ¬í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 1708: ë³¼ë¡ ê»ì§ˆ", url: "https://www.acmicpc.net/problem/1708" }],
                relations: [{ target: "ccw", type: "prerequisite" }, { target: "sorting", type: "prerequisite" }] },
            
            { id: "rotating_calipers", name: "íšŒì „í•˜ëŠ” ìº˜ë¦¬í¼ìŠ¤", tier: 5, stream: "geometry", x: 1900, y: 700,
                tags: ["rotating_calipers"], description: "ë³¼ë¡ ë‹¤ê°í˜•ì—ì„œ ìµœì›ì ìŒì„ ì°¾ìŠµë‹ˆë‹¤.",
                problems: [{ name: "BOJ 10254: ê³ ì†ë„ë¡œ", url: "https://www.acmicpc.net/problem/10254" }],
                relations: [{ target: "convex_hull", type: "extension" }] },

            // ì¶”ê°€ Tier 1 ì•Œê³ ë¦¬ì¦˜ë“¤
            { id: "implementation", name: "êµ¬í˜„", tier: 1, stream: "algorithm", x: 150, y: 100,
                tags: ["implementation"], description: "ë¬¸ì œì˜ ìš”êµ¬ì‚¬í•­ì„ ì½”ë“œë¡œ êµ¬í˜„í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 2753: ìœ¤ë…„", url: "https://www.acmicpc.net/problem/2753" }], relations: [] },
            
            { id: "arithmetic", name: "ì‚¬ì¹™ì—°ì‚°", tier: 1, stream: "math", x: 1500, y: 100,
                tags: ["arithmetic"], description: "ê¸°ë³¸ì ì¸ ë§ì…ˆ, ëº„ì…ˆ, ê³±ì…ˆ, ë‚˜ëˆ—ì…ˆ ì—°ì‚°ì…ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 1000: A+B", url: "https://www.acmicpc.net/problem/1000" }], relations: [] },

            // ì¶”ê°€ Tier 2 ì•Œê³ ë¦¬ì¦˜ë“¤
            { id: "simulation", name: "ì‹œë®¬ë ˆì´ì…˜", tier: 2, stream: "algorithm", x: 100, y: 250,
                tags: ["simulation"], description: "ì£¼ì–´ì§„ ì¡°ê±´ì— ë”°ë¼ ìƒí™©ì„ ì‹œë®¬ë ˆì´ì…˜í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 14503: ë¡œë´‡ ì²­ì†Œê¸°", url: "https://www.acmicpc.net/problem/14503" }],
                relations: [{ target: "implementation", type: "prerequisite" }] },
            
            { id: "sliding_window", name: "ìŠ¬ë¼ì´ë”© ìœˆë„ìš°", tier: 2, stream: "algorithm", x: 300, y: 250,
                tags: ["sliding_window"], description: "ê³ ì •ëœ í¬ê¸°ì˜ ìœˆë„ìš°ë¥¼ ì´ë™í•˜ë©° íƒìƒ‰í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 12891: DNA ë¹„ë°€ë²ˆí˜¸", url: "https://www.acmicpc.net/problem/12891" }],
                relations: [{ target: "two_pointer", type: "related" }] },
            
            { id: "parametric_search", name: "ë§¤ê°œ ë³€ìˆ˜ íƒìƒ‰", tier: 2, stream: "algorithm", x: 800, y: 250,
                tags: ["parametric_search"], description: "ìµœì í™” ë¬¸ì œë¥¼ ê²°ì • ë¬¸ì œë¡œ ë°”ê¿” ì´ë¶„íƒìƒ‰í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 1654: ëœì„  ìë¥´ê¸°", url: "https://www.acmicpc.net/problem/1654" }],
                relations: [{ target: "binary_search", type: "extension" }] },
            
            { id: "linked_list", name: "ì—°ê²° ë¦¬ìŠ¤íŠ¸", tier: 2, stream: "algorithm", x: 600, y: 250,
                tags: ["linked_list"], description: "ë…¸ë“œë“¤ì´ í¬ì¸í„°ë¡œ ì—°ê²°ëœ ìë£Œêµ¬ì¡°ì…ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 1406: ì—ë””í„°", url: "https://www.acmicpc.net/problem/1406" }],
                relations: [{ target: "array_list", type: "related" }] },

            // ì¶”ê°€ Tier 3 ì•Œê³ ë¦¬ì¦˜ë“¤
            { id: "floyd_warshall", name: "í”Œë¡œì´ë“œ-ì›Œì…œ", tier: 3, stream: "algorithm", x: 1000, y: 400,
                tags: ["floyd_warshall"], description: "ëª¨ë“  ìŒì˜ ìµœë‹¨ ê²½ë¡œë¥¼ O(NÂ³)ì— êµ¬í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 11404: í”Œë¡œì´ë“œ", url: "https://www.acmicpc.net/problem/11404" }],
                relations: [{ target: "graph_basic", type: "prerequisite" }] },
            
            { id: "bellman_ford", name: "ë²¨ë§Œ-í¬ë“œ", tier: 3, stream: "algorithm", x: 800, y: 400,
                tags: ["bellman_ford"], description: "ìŒìˆ˜ ê°€ì¤‘ì¹˜ê°€ ìˆì–´ë„ ìµœë‹¨ ê²½ë¡œë¥¼ êµ¬í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 11657: íƒ€ì„ë¨¸ì‹ ", url: "https://www.acmicpc.net/problem/11657" }],
                relations: [{ target: "dijkstra", type: "related" }] },
            
            { id: "knapsack", name: "ë°°ë‚­ ë¬¸ì œ", tier: 3, stream: "algorithm", x: 600, y: 400,
                tags: ["knapsack"], description: "í•œì •ëœ ìš©ëŸ‰ì— ìµœëŒ€ ê°€ì¹˜ë¥¼ ë‹´ëŠ” ë¬¸ì œì…ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 12865: í‰ë²”í•œ ë°°ë‚­", url: "https://www.acmicpc.net/problem/12865" }],
                relations: [{ target: "dp_basic", type: "extension" }] },
            
            { id: "lis", name: "LIS (ìµœì¥ ì¦ê°€ ë¶€ë¶„ ìˆ˜ì—´)", tier: 3, stream: "algorithm", x: 400, y: 400,
                tags: ["lis"], description: "ê°€ì¥ ê¸´ ì¦ê°€í•˜ëŠ” ë¶€ë¶„ ìˆ˜ì—´ì„ ì°¾ìŠµë‹ˆë‹¤.",
                problems: [{ name: "BOJ 11053: ê°€ì¥ ê¸´ ì¦ê°€í•˜ëŠ” ë¶€ë¶„ ìˆ˜ì—´", url: "https://www.acmicpc.net/problem/11053" }],
                relations: [{ target: "dp_basic", type: "extension" }, { target: "binary_search", type: "optimization" }] },
            
            { id: "dag", name: "DAG (ë°©í–¥ ë¹„ìˆœí™˜ ê·¸ë˜í”„)", tier: 3, stream: "algorithm", x: 1200, y: 400,
                tags: ["dag"], description: "ì‚¬ì´í´ì´ ì—†ëŠ” ë°©í–¥ ê·¸ë˜í”„ì…ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 2623: ìŒì•…í”„ë¡œê·¸ë¨", url: "https://www.acmicpc.net/problem/2623" }],
                relations: [{ target: "graph_basic", type: "prerequisite" }] },

            // ì¶”ê°€ Tier 4 ì•Œê³ ë¦¬ì¦˜ë“¤
            { id: "fenwick_tree", name: "íœìœ… íŠ¸ë¦¬ (BIT)", tier: 4, stream: "algorithm", x: 500, y: 550,
                tags: ["fenwick"], description: "êµ¬ê°„ í•©ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” íŠ¸ë¦¬ì…ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 2042: êµ¬ê°„ í•© êµ¬í•˜ê¸°", url: "https://www.acmicpc.net/problem/2042" }],
                relations: [{ target: "segment_tree", type: "related" }] },
            
            { id: "sqrt_decomposition", name: "ì œê³±ê·¼ ë¶„í• ë²•", tier: 4, stream: "algorithm", x: 100, y: 550,
                tags: ["sqrt_decomposition"], description: "ë°°ì—´ì„ âˆšN í¬ê¸°ì˜ ë¸”ë¡ìœ¼ë¡œ ë‚˜ëˆ„ì–´ ì²˜ë¦¬í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 13547: ìˆ˜ì—´ê³¼ ì¿¼ë¦¬ 5", url: "https://www.acmicpc.net/problem/13547" }],
                relations: [{ target: "array_list", type: "prerequisite" }] },
            
            { id: "bipartite_matching", name: "ì´ë¶„ ë§¤ì¹­", tier: 4, stream: "algorithm", x: 1200, y: 550,
                tags: ["bipartite_matching"], description: "ì´ë¶„ ê·¸ë˜í”„ì—ì„œ ìµœëŒ€ ë§¤ì¹­ì„ ì°¾ìŠµë‹ˆë‹¤.",
                problems: [{ name: "BOJ 11375: ì—´í˜ˆê°•í˜¸", url: "https://www.acmicpc.net/problem/11375" }],
                relations: [{ target: "dfs_bfs", type: "prerequisite" }] },
            
            { id: "two_sat", name: "2-SAT", tier: 4, stream: "algorithm", x: 1300, y: 550,
                tags: ["2sat"], description: "ë…¼ë¦¬ì‹ì˜ ë§Œì¡± ê°€ëŠ¥ì„±ì„ íŒë³„í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 11280: 2-SAT - 3", url: "https://www.acmicpc.net/problem/11280" }],
                relations: [{ target: "scc", type: "prerequisite" }] },
            
            { id: "tree_dp", name: "íŠ¸ë¦¬ DP", tier: 4, stream: "algorithm", x: 800, y: 550,
                tags: ["tree_dp"], description: "íŠ¸ë¦¬ êµ¬ì¡°ì—ì„œ ë™ì  ê³„íšë²•ì„ ì ìš©í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 2213: íŠ¸ë¦¬ì˜ ë…ë¦½ì§‘í•©", url: "https://www.acmicpc.net/problem/2213" }],
                relations: [{ target: "dp_basic", type: "prerequisite" }, { target: "dfs_bfs", type: "prerequisite" }] },
            
            { id: "sparse_table", name: "í¬ì†Œ ë°°ì—´", tier: 4, stream: "algorithm", x: 1400, y: 550,
                tags: ["sparse_table"], description: "RMQë¥¼ O(1)ì— ì²˜ë¦¬í•˜ëŠ” ìë£Œêµ¬ì¡°ì…ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 17435: í•©ì„±í•¨ìˆ˜ì™€ ì¿¼ë¦¬", url: "https://www.acmicpc.net/problem/17435" }],
                relations: [{ target: "segment_tree", type: "related" }] },
            
            { id: "articulation", name: "ë‹¨ì ˆì ê³¼ ë‹¨ì ˆì„ ", tier: 4, stream: "algorithm", x: 1500, y: 550,
                tags: ["articulation"], description: "ê·¸ë˜í”„ì—ì„œ ë‹¨ì ˆì ê³¼ ë‹¨ì ˆì„ ì„ ì°¾ìŠµë‹ˆë‹¤.",
                problems: [{ name: "BOJ 11266: ë‹¨ì ˆì ", url: "https://www.acmicpc.net/problem/11266" }],
                relations: [{ target: "dfs_bfs", type: "prerequisite" }] },

            // ì¶”ê°€ Tier 5 ì•Œê³ ë¦¬ì¦˜ë“¤
            { id: "mcmf", name: "ìµœì†Œ ë¹„ìš© ìµœëŒ€ ìœ ëŸ‰", tier: 5, stream: "algorithm", x: 1100, y: 700,
                tags: ["mcmf"], description: "ìµœëŒ€ ìœ ëŸ‰ì„ ìµœì†Œ ë¹„ìš©ìœ¼ë¡œ í˜ë¦½ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 11408: ì—´í˜ˆê°•í˜¸ 5", url: "https://www.acmicpc.net/problem/11408" }],
                relations: [{ target: "max_flow", type: "extension" }] },
            
            { id: "suffix_array", name: "ì ‘ë¯¸ì‚¬ ë°°ì—´", tier: 5, stream: "algorithm", x: 100, y: 700,
                tags: ["suffix_array"], description: "ë¬¸ìì—´ì˜ ëª¨ë“  ì ‘ë¯¸ì‚¬ë¥¼ ì •ë ¬í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 9248: Suffix Array", url: "https://www.acmicpc.net/problem/9248" }],
                relations: [{ target: "sorting", type: "prerequisite" }] },
            
            { id: "hld", name: "Heavy-Light ë¶„í• ", tier: 5, stream: "algorithm", x: 800, y: 700,
                tags: ["hld"], description: "íŠ¸ë¦¬ë¥¼ ê²½ë¡œë¡œ ë¶„í•´í•˜ì—¬ ì¿¼ë¦¬ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 13510: íŠ¸ë¦¬ì™€ ì¿¼ë¦¬ 1", url: "https://www.acmicpc.net/problem/13510" }],
                relations: [{ target: "segment_tree", type: "prerequisite" }, { target: "lca", type: "prerequisite" }] },
            
            { id: "persistent_seg", name: "í¼ì‹œìŠ¤í„´íŠ¸ ì„¸ê·¸ë¨¼íŠ¸ íŠ¸ë¦¬", tier: 5, stream: "algorithm", x: 500, y: 700,
                tags: ["persistent"], description: "ê³¼ê±° ìƒíƒœë¥¼ ìœ ì§€í•˜ëŠ” ì„¸ê·¸ë¨¼íŠ¸ íŠ¸ë¦¬ì…ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 11012: Egg", url: "https://www.acmicpc.net/problem/11012" }],
                relations: [{ target: "segment_tree", type: "extension" }] },
            
            { id: "splay_tree", name: "ìŠ¤í”Œë ˆì´ íŠ¸ë¦¬", tier: 5, stream: "algorithm", x: 300, y: 700,
                tags: ["splay"], description: "ìê°€ ê· í˜• ì´ì§„ íƒìƒ‰ íŠ¸ë¦¬ì…ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 13159: ë°°ì—´", url: "https://www.acmicpc.net/problem/13159" }],
                relations: [{ target: "segment_tree", type: "related" }] },
            
            { id: "parallel_binary_search", name: "ë³‘ë ¬ ì´ë¶„ íƒìƒ‰", tier: 5, stream: "algorithm", x: 900, y: 700,
                tags: ["parallel_bs"], description: "ì—¬ëŸ¬ ì¿¼ë¦¬ë¥¼ ë™ì‹œì— ì´ë¶„ íƒìƒ‰í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 12899: ë°ì´í„° êµ¬ì¡°", url: "https://www.acmicpc.net/problem/12899" }],
                relations: [{ target: "binary_search", type: "extension" }] },
            
            { id: "manacher", name: "ë§¤ë‚´ì²˜", tier: 5, stream: "algorithm", x: 1200, y: 700,
                tags: ["manacher"], description: "O(N)ì— ëª¨ë“  íŒ°ë¦°ë“œë¡¬ì„ ì°¾ìŠµë‹ˆë‹¤.",
                problems: [{ name: "BOJ 13275: ê°€ì¥ ê¸´ íŒ°ë¦°ë“œë¡¬ ë¶€ë¶„ ë¬¸ìì—´", url: "https://www.acmicpc.net/problem/13275" }],
                relations: [{ target: "kmp", type: "related" }] },
            
            { id: "dnc_optimization", name: "ë¶„í•  ì •ë³µ ìµœì í™”", tier: 5, stream: "algorithm", x: 1300, y: 700,
                tags: ["dnc_opt"], description: "DP ì í™”ì‹ì„ O(N log N)ìœ¼ë¡œ ìµœì í™”í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 13261: íƒˆì˜¥", url: "https://www.acmicpc.net/problem/13261" }],
                relations: [{ target: "dp_basic", type: "optimization" }, { target: "divide_conquer", type: "prerequisite" }] },

            // ì¶”ê°€ Math Stream
            { id: "prime_factorization", name: "ì†Œì¸ìˆ˜ë¶„í•´", tier: 2, stream: "math", x: 1700, y: 250,
                tags: ["factorization"], description: "ìˆ˜ë¥¼ ì†Œì¸ìˆ˜ë¡œ ë¶„í•´í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 11653: ì†Œì¸ìˆ˜ë¶„í•´", url: "https://www.acmicpc.net/problem/11653" }],
                relations: [{ target: "prime_sieve", type: "prerequisite" }] },
            
            { id: "exponentiation", name: "ë¶„í•  ì •ë³µ ê±°ë“­ì œê³±", tier: 3, stream: "math", x: 1500, y: 400,
                tags: ["exponentiation"], description: "ê±°ë“­ì œê³±ì„ O(log N)ì— ê³„ì‚°í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 1629: ê³±ì…ˆ", url: "https://www.acmicpc.net/problem/1629" }],
                relations: [{ target: "modular_arithmetic", type: "prerequisite" }] },
            
            { id: "matrix_multiply", name: "í–‰ë ¬ ê³±ì…ˆ", tier: 3, stream: "math", x: 1700, y: 400,
                tags: ["matrix"], description: "í–‰ë ¬ì˜ ê³±ì…ˆ ì—°ì‚°ì…ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 2740: í–‰ë ¬ ê³±ì…ˆ", url: "https://www.acmicpc.net/problem/2740" }],
                relations: [{ target: "arithmetic", type: "prerequisite" }] },
            
            { id: "game_theory", name: "ê²Œì„ ì´ë¡ ", tier: 4, stream: "math", x: 1700, y: 550,
                tags: ["game_theory"], description: "ê²Œì„ì˜ ìŠ¹íŒ¨ë¥¼ ìˆ˜í•™ì ìœ¼ë¡œ ë¶„ì„í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 9657: ëŒ ê²Œì„ 3", url: "https://www.acmicpc.net/problem/9657" }],
                relations: [{ target: "dp_basic", type: "related" }] },
            
            { id: "sprague_grundy", name: "ìŠ¤í”„ë¼ê·¸-ê·¸ëŸ°ë””", tier: 5, stream: "math", x: 1700, y: 700,
                tags: ["sprague_grundy"], description: "ë‹˜ ê²Œì„ì˜ ì¼ë°˜í™”ëœ ì´ë¡ ì…ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 16895: ë‹˜ ê²Œì„ 3", url: "https://www.acmicpc.net/problem/16895" }],
                relations: [{ target: "game_theory", type: "extension" }] },
            
            { id: "mobius", name: "ë«¼ë¹„ìš°ìŠ¤ ë°˜ì „ ê³µì‹", tier: 5, stream: "math", x: 1500, y: 700,
                tags: ["mobius"], description: "ìˆ˜ë¡  í•¨ìˆ˜ì˜ ì—­í•¨ìˆ˜ë¥¼ êµ¬í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 11689: GCD(n, k) = 1", url: "https://www.acmicpc.net/problem/11689" }],
                relations: [{ target: "euler_phi", type: "related" }] },
            
            { id: "pollard_rho", name: "í´ë¼ë“œ ë¡œ", tier: 5, stream: "math", x: 1800, y: 700,
                tags: ["pollard_rho"], description: "í° ìˆ˜ë¥¼ ë¹ ë¥´ê²Œ ì†Œì¸ìˆ˜ë¶„í•´í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 4149: í° ìˆ˜ ì†Œì¸ìˆ˜ë¶„í•´", url: "https://www.acmicpc.net/problem/4149" }],
                relations: [{ target: "miller_rabin", type: "prerequisite" }] },

            // ì¶”ê°€ Geometry Stream
            { id: "sweeping", name: "ìŠ¤ìœ„í•‘", tier: 3, stream: "geometry", x: 2000, y: 400,
                tags: ["sweeping"], description: "ì„ ì´ë‚˜ í‰ë©´ì„ ì´ë™í•˜ë©° ì²˜ë¦¬í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 2170: ì„  ê¸‹ê¸°", url: "https://www.acmicpc.net/problem/2170" }],
                relations: [{ target: "sorting", type: "prerequisite" }] },
            
            { id: "polygon_area", name: "ë‹¤ê°í˜•ì˜ ë„“ì´", tier: 4, stream: "geometry", x: 2200, y: 550,
                tags: ["polygon"], description: "ë‹¤ê°í˜•ì˜ ë„“ì´ë¥¼ ì‹ ë°œëˆ ê³µì‹ìœ¼ë¡œ êµ¬í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 2166: ë‹¤ê°í˜•ì˜ ë©´ì ", url: "https://www.acmicpc.net/problem/2166" }],
                relations: [{ target: "ccw", type: "prerequisite" }] },
            
            { id: "point_in_polygon", name: "ë‹¤ê°í˜• ë‚´ë¶€ ì  íŒì •", tier: 4, stream: "geometry", x: 2000, y: 550,
                tags: ["point_in_polygon"], description: "ì ì´ ë‹¤ê°í˜• ë‚´ë¶€ì— ìˆëŠ”ì§€ íŒë³„í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 2848: ì•Œê³ ìŠ¤íŒŸ", url: "https://www.acmicpc.net/problem/2848" }],
                relations: [{ target: "ccw", type: "prerequisite" }] },
            
            { id: "half_plane_intersection", name: "ë°˜í‰ë©´ êµì§‘í•©", tier: 5, stream: "geometry", x: 2200, y: 700,
                tags: ["half_plane"], description: "ë°˜í‰ë©´ë“¤ì˜ êµì§‘í•©ì„ êµ¬í•©ë‹ˆë‹¤.",
                problems: [{ name: "BOJ 12795: ë°˜í‰ë©´ ë•…ë”°ë¨¹ê¸°", url: "https://www.acmicpc.net/problem/12795" }],
                relations: [{ target: "convex_hull", type: "related" }] },
            
            { id: "closest_pair", name: "ê°€ì¥ ê°€ê¹Œìš´ ë‘ ì ", tier: 5, stream: "geometry", x: 2000, y: 700,
                tags: ["closest_pair"], description: "í‰ë©´ìƒì˜ ê°€ì¥ ê°€ê¹Œìš´ ë‘ ì ì„ ì°¾ìŠµë‹ˆë‹¤.",
                problems: [{ name: "BOJ 2261: ê°€ì¥ ê°€ê¹Œìš´ ë‘ ì ", url: "https://www.acmicpc.net/problem/2261" }],
                relations: [{ target: "divide_conquer", type: "prerequisite" }, { target: "sweeping", type: "prerequisite" }] }
        ];

        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        let currentStream = 'all';
        let selectedNode = null;
        
        // ë“œë˜ê·¸ ê´€ë ¨ ë³€ìˆ˜
        let isDragging = false;
        let dragNode = null;
        let dragOffsetX = 0;
        let dragOffsetY = 0;
        let dragDistance = 0;  // ë“œë˜ê·¸ ê±°ë¦¬ ì¶”ì 
        const DRAG_THRESHOLD = 1;  // ë“œë˜ê·¸ ì„ê³„ê°’ (px)
        
        // Force-Directed Layout ê´€ë ¨ ë³€ìˆ˜
        let isSimulating = false;
        let simulationInterval = null;

        // Tierë³„ ì˜ì—­ ì •ì˜ (5ê°œ Tier)
        const tierRegions = [
            { tier: 1, y: 50, height: 450, color: 'rgba(102, 126, 234, 0.05)' },
            { tier: 2, y: 500, height: 450, color: 'rgba(102, 126, 234, 0.08)' },
            { tier: 3, y: 950, height: 450, color: 'rgba(102, 126, 234, 0.11)' },
            { tier: 4, y: 1400, height: 450, color: 'rgba(102, 126, 234, 0.14)' },
            { tier: 5, y: 1850, height: 450, color: 'rgba(102, 126, 234, 0.17)' }
        ];

        // ìº”ë²„ìŠ¤ í¬ê¸° ì„¤ì •
        function resizeCanvas() {
            canvas.width = 6000;   // 4000 â†’ 6000 (50% ì¦ê°€)
            canvas.height = 2500;  // 1800 â†’ 2500 (ì•½ 39% ì¦ê°€)
            drawGraph();
        }

        // ë…¸ë“œ ê·¸ë¦¬ê¸°
        function drawNode(node, isHighlight = false) {
            if (currentStream !== 'all' && node.stream !== currentStream) return;

            ctx.save();
            
            // ë…¸ë“œ ë°°ê²½
            if (isHighlight) {
                ctx.shadowBlur = 20;
                ctx.shadowColor = 'rgba(102, 126, 234, 0.6)';
            }
            
            const gradient = ctx.createLinearGradient(node.x, node.y, node.x + 160, node.y + 60);
            
            if (selectedNode === node.id) {
                gradient.addColorStop(0, '#667eea');
                gradient.addColorStop(1, '#764ba2');
            } else {
                gradient.addColorStop(0, '#f8f9fa');
                gradient.addColorStop(1, '#e9ecef');
            }
            
            ctx.fillStyle = gradient;
            ctx.strokeStyle = selectedNode === node.id ? '#764ba2' : '#dee2e6';
            ctx.lineWidth = 3;
            
            // ë¼ìš´ë“œ ë ‰íŠ¸
            const x = node.x, y = node.y, w = 160, h = 60, r = 10;
            ctx.beginPath();
            ctx.moveTo(x + r, y);
            ctx.lineTo(x + w - r, y);
            ctx.arcTo(x + w, y, x + w, y + r, r);
            ctx.lineTo(x + w, y + h - r);
            ctx.arcTo(x + w, y + h, x + w - r, y + h, r);
            ctx.lineTo(x + r, y + h);
            ctx.arcTo(x, y + h, x, y + h - r, r);
            ctx.lineTo(x, y + r);
            ctx.arcTo(x, y, x + r, y, r);
            ctx.closePath();
            ctx.fill();
            ctx.stroke();
            
            // ìŠ¤íŠ¸ë¦¼ ìƒ‰ìƒ ë°”
            ctx.fillStyle = node.stream === 'algorithm' ? '#667eea' : 
                           node.stream === 'math' ? '#f5576c' : '#00f2fe';
            ctx.fillRect(node.x, node.y, 5, 60);
            
            // í…ìŠ¤íŠ¸
            ctx.fillStyle = selectedNode === node.id ? '#ffffff' : '#333333';
            ctx.font = 'bold 14px "Segoe UI"';
            ctx.textAlign = 'center';
            ctx.fillText(node.name, node.x + 80, node.y + 30);
            
            ctx.font = '11px "Segoe UI"';
            ctx.fillStyle = selectedNode === node.id ? 'rgba(255,255,255,0.8)' : '#666666';
            ctx.fillText(`Tier ${node.tier}`, node.x + 80, node.y + 48);
            
            ctx.restore();
        }

        // í™”ì‚´í‘œ ê·¸ë¦¬ê¸°
        function drawArrow(fromNode, toNode, type) {
            if (currentStream !== 'all' && 
                (fromNode.stream !== currentStream || toNode.stream !== currentStream)) return;

            // toNodeì˜ ì•„ë˜ìª½ ì¤‘ì•™ì—ì„œ ì‹œì‘ (ë°©í–¥ ë°˜ëŒ€ë¡œ)
            const startX = toNode.x + 80;    // ë…¸ë“œ ê°€ë¡œ ì¤‘ì•™ (160ì˜ ì ˆë°˜)
            const startY = toNode.y + 60;    // ë…¸ë“œ ì•„ë˜ìª½
            
            // fromNodeì˜ ìœ„ìª½ ì¤‘ì•™ìœ¼ë¡œ ë (ë°©í–¥ ë°˜ëŒ€ë¡œ)
            const endX = fromNode.x + 80;    // ë…¸ë“œ ê°€ë¡œ ì¤‘ì•™
            const endY = fromNode.y;         // ë…¸ë“œ ìœ„ìª½

            ctx.save();
            
            // ì„  ìŠ¤íƒ€ì¼ ì„¤ì •
            switch(type) {
                case 'prerequisite':
                    ctx.strokeStyle = '#4CAF50';
                    ctx.lineWidth = 3;
                    break;
                case 'extension':
                    ctx.strokeStyle = '#FF9800';
                    ctx.lineWidth = 3;
                    break;
                case 'related':
                    ctx.strokeStyle = '#2196F3';
                    ctx.lineWidth = 2;
                    ctx.setLineDash([5, 5]);
                    break;
                case 'optimization':
                    ctx.strokeStyle = '#E91E63';
                    ctx.lineWidth = 3;
                    break;
                default:
                    ctx.strokeStyle = '#999999';
                    ctx.lineWidth = 2;
            }

            // ë² ì§€ì–´ ê³¡ì„  ì œì–´ì  ê³„ì‚° (ë” ë¶€ë“œëŸ¬ìš´ ê³¡ì„ ì„ ìœ„í•´)
            const dx = endX - startX;
            const dy = endY - startY;
            const distance = Math.sqrt(dx * dx + dy * dy);
            
            // ìˆ˜ì§ ê±°ë¦¬ì— ë”°ë¼ ê³¡ë¥  ì¡°ì •
            const curvature = Math.min(distance * 0.3, 100);
            
            const controlX1 = startX;
            const controlY1 = startY + curvature;
            const controlX2 = endX;
            const controlY2 = endY - curvature;
            
            // ë² ì§€ì–´ ê³¡ì„ ìœ¼ë¡œ ë¶€ë“œëŸ¬ìš´ ì„  ê·¸ë¦¬ê¸°
            ctx.beginPath();
            ctx.moveTo(startX, startY);
            ctx.bezierCurveTo(controlX1, controlY1, controlX2, controlY2, endX, endY);
            ctx.stroke();

            // í™”ì‚´í‘œ ë¨¸ë¦¬ (ëì ì—ì„œì˜ ê°ë„ ê³„ì‚°)
            const angle = Math.atan2(endY - controlY2, endX - controlX2);
            const arrowLength = 12;
            
            ctx.setLineDash([]); // í™”ì‚´í‘œëŠ” ì‹¤ì„ ìœ¼ë¡œ
            ctx.beginPath();
            ctx.moveTo(endX, endY);
            ctx.lineTo(
                endX - arrowLength * Math.cos(angle - Math.PI / 6),
                endY - arrowLength * Math.sin(angle - Math.PI / 6)
            );
            ctx.lineTo(
                endX - arrowLength * Math.cos(angle + Math.PI / 6),
                endY - arrowLength * Math.sin(angle + Math.PI / 6)
            );
            ctx.closePath();
            ctx.fillStyle = ctx.strokeStyle;
            ctx.fill();
            
            ctx.restore();
        }

        // Tier ì˜ì—­ ë°°ê²½ ê·¸ë¦¬ê¸°
        function drawTierRegions() {
            tierRegions.forEach(region => {
                ctx.fillStyle = region.color;
                ctx.fillRect(0, region.y, canvas.width, region.height);
                
                // Tier ë¼ë²¨
                ctx.save();
                ctx.fillStyle = 'rgba(102, 126, 234, 0.3)';
                ctx.font = 'bold 24px "Segoe UI"';
                ctx.fillText(`Tier ${region.tier}`, 20, region.y + 30);
                ctx.restore();
                
                // êµ¬ë¶„ì„ 
                ctx.strokeStyle = 'rgba(102, 126, 234, 0.2)';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.moveTo(0, region.y);
                ctx.lineTo(canvas.width, region.y);
                ctx.stroke();
            });
        }

        // ê·¸ë˜í”„ ê·¸ë¦¬ê¸°
        function drawGraph() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // 1ë‹¨ê³„: Tier ì˜ì—­ ë°°ê²½ ê·¸ë¦¬ê¸°
            drawTierRegions();
            
            // 2ë‹¨ê³„: ë°°ê²½ ê·¸ë¦¬ë“œ (ì„ íƒì‚¬í•­)
            ctx.strokeStyle = '#f0f0f0';
            ctx.lineWidth = 1;
            for (let i = 0; i < canvas.width; i += 100) {
                ctx.beginPath();
                ctx.moveTo(i, 0);
                ctx.lineTo(i, canvas.height);
                ctx.stroke();
            }
            for (let i = 0; i < canvas.height; i += 100) {
                ctx.beginPath();
                ctx.moveTo(0, i);
                ctx.lineTo(canvas.width, i);
                ctx.stroke();
            }

            // 3ë‹¨ê³„: ëª¨ë“  ì—°ê²°ì„  ê·¸ë¦¬ê¸°
            algorithmData.forEach(node => {
                if (node.relations) {
                    node.relations.forEach(relation => {
                        const targetNode = algorithmData.find(n => n.id === relation.target);
                        if (targetNode) {
                            drawArrow(node, targetNode, relation.type);
                        }
                    });
                }
            });

            // 4ë‹¨ê³„: ëª¨ë“  ë…¸ë“œ ê·¸ë¦¬ê¸°
            algorithmData.forEach(node => {
                drawNode(node, selectedNode === node.id);
            });
        }

        // ë…¸ë“œ í´ë¦­ ë° ë“œë˜ê·¸ ì‹œì‘
        canvas.addEventListener('mousedown', (e) => {
            const rect = canvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;

            let clickedNode = null;
            algorithmData.forEach(node => {
                if (currentStream !== 'all' && node.stream !== currentStream) return;
                
                if (x >= node.x && x <= node.x + 160 &&
                    y >= node.y && y <= node.y + 60) {
                    clickedNode = node;
                }
            });

            if (clickedNode) {
                isDragging = true;
                dragNode = clickedNode;
                dragOffsetX = x - clickedNode.x;
                dragOffsetY = y - clickedNode.y;
                dragDistance = 0;  // ë“œë˜ê·¸ ê±°ë¦¬ ì´ˆê¸°í™”
                canvas.style.cursor = 'grabbing';
            }
        });

        // ë“œë˜ê·¸ ì¤‘
        canvas.addEventListener('mousemove', (e) => {
            const rect = canvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;

            if (isDragging && dragNode) {
                // ë“œë˜ê·¸ ê±°ë¦¬ ê³„ì‚°
                const dx = x - (dragNode.x + dragOffsetX);
                const dy = y - (dragNode.y + dragOffsetY);
                dragDistance = Math.sqrt(dx * dx + dy * dy);
                
                // ìë™ ë°°ì¹˜ ì¤‘ì§€
                if (isSimulating) {
                    stopForceLayout();
                }
                
                // ë…¸ë“œ ìœ„ì¹˜ ì—…ë°ì´íŠ¸
                dragNode.x = x - dragOffsetX;
                dragNode.y = y - dragOffsetY;
                
                // ìº”ë²„ìŠ¤ ë²”ìœ„ ì œí•œ
                dragNode.x = Math.max(0, Math.min(dragNode.x, canvas.width - 160));
                dragNode.y = Math.max(0, Math.min(dragNode.y, canvas.height - 60));
                
                // ì†ë„ ì´ˆê¸°í™” (Force-Directed ì˜í–¥ ì œê±°)
                dragNode.vx = 0;
                dragNode.vy = 0;
                
                drawGraph();
            } else {
                // í˜¸ë²„ íš¨ê³¼
                let hoverNode = false;
                algorithmData.forEach(node => {
                    if (currentStream !== 'all' && node.stream !== currentStream) return;
                    
                    if (x >= node.x && x <= node.x + 160 &&
                        y >= node.y && y <= node.y + 60) {
                        hoverNode = true;
                    }
                });

                canvas.style.cursor = hoverNode ? 'grab' : 'default';
            }
        });

        // ë“œë˜ê·¸ ì¢…ë£Œ
        canvas.addEventListener('mouseup', (e) => {
            if (isDragging && dragNode) {
                isDragging = false;
                dragNode = null;
                canvas.style.cursor = 'grab';
            }
        });

        // ìº”ë²„ìŠ¤ ë°–ìœ¼ë¡œ ë‚˜ê°ˆ ë•Œë„ ë“œë˜ê·¸ ì¢…ë£Œ
        canvas.addEventListener('mouseleave', (e) => {
            if (isDragging) {
                isDragging = false;
                dragNode = null;
                canvas.style.cursor = 'default';
            }
        });

        // ë…¸ë“œ í´ë¦­ (ë“œë˜ê·¸í•˜ì§€ ì•Šì€ ê²½ìš°ë§Œ)
        canvas.addEventListener('click', (e) => {
            // ì‹¤ì œ ë“œë˜ê·¸ê°€ ë°œìƒí–ˆìœ¼ë©´ í´ë¦­ ì´ë²¤íŠ¸ ë¬´ì‹œ
            if (dragDistance > DRAG_THRESHOLD) return;

            const rect = canvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;

            let clickedNode = null;
            algorithmData.forEach(node => {
                if (currentStream !== 'all' && node.stream !== currentStream) return;
                
                if (x >= node.x && x <= node.x + 160 &&
                    y >= node.y && y <= node.y + 60) {
                    clickedNode = node;
                }
            });

            if (clickedNode) {
                selectedNode = selectedNode === clickedNode.id ? null : clickedNode.id;
                drawGraph();
                if (selectedNode) {
                    showModal(clickedNode);
                }
            }
        });

        // Force-Directed Layout ì•Œê³ ë¦¬ì¦˜
        function applyForceDirectedLayout() {
            const repulsionStrength = 15000;  // ë…¸ë“œ ê°„ ë°˜ë°œë ¥ (ë” ì¦ê°€)
            const attractionStrength = 0.005; // ì—°ê²°ëœ ë…¸ë“œ ê°„ ì¸ë ¥ (ê°ì†Œ)
            const dampening = 0.85;           // ê°ì‡  ê³„ìˆ˜
            const minDistance = 250;          // ìµœì†Œ ê±°ë¦¬ (ì¦ê°€)
            const centeringForce = 0.05;      // Tier ì¤‘ì•™ìœ¼ë¡œ ëŒì–´ë‹¹ê¸°ëŠ” í˜
            const nodeWidth = 160;
            const nodeHeight = 60;
            const margin = 40;                // ë…¸ë“œ ê°„ ìµœì†Œ ê°„ê²© (ì¦ê°€: 25 â†’ 40)
            
            algorithmData.forEach(node => {
                if (!node.vx) node.vx = 0;
                if (!node.vy) node.vy = 0;
            });

            // 1. ëª¨ë“  ë…¸ë“œ ìŒì— ëŒ€í•´ ë°˜ë°œë ¥ ì ìš© (ê²¹ì¹¨ ë°©ì§€ ê°•í™”)
            for (let i = 0; i < algorithmData.length; i++) {
                for (let j = i + 1; j < algorithmData.length; j++) {
                    const nodeA = algorithmData[i];
                    const nodeB = algorithmData[j];
                    
                    if (currentStream !== 'all' && 
                        (nodeA.stream !== currentStream || nodeB.stream !== currentStream)) continue;

                    const dx = nodeB.x - nodeA.x;
                    const dy = nodeB.y - nodeA.y;
                    const distance = Math.sqrt(dx * dx + dy * dy) || 1;
                    
                    // ì‹¤ì œ ë…¸ë“œ í¬ê¸°ë¥¼ ê³ ë ¤í•œ ê²¹ì¹¨ ê²€ì‚¬ (ë” ë„‰ë„‰í•œ ê°„ê²©)
                    const actualMinDistance = Math.sqrt(
                        Math.pow(nodeWidth + margin * 2, 2) + 
                        Math.pow(nodeHeight + margin * 2, 2)
                    );
                    
                    // ë…¸ë“œê°€ ë„ˆë¬´ ê°€ê¹Œìš°ë©´ ë§¤ìš° ê°•í•œ ë°˜ë°œë ¥
                    if (distance < actualMinDistance) {
                        const force = repulsionStrength / (distance * distance);
                        const fx = (dx / distance) * force;
                        const fy = (dy / distance) * force;
                        
                        nodeA.vx -= fx;
                        nodeA.vy -= fy;
                        nodeB.vx += fx;
                        nodeB.vy += fy;
                    } else if (distance < minDistance) {
                        // ì¼ë°˜ì ì¸ ë°˜ë°œë ¥
                        const force = repulsionStrength / (distance * distance * 2);
                        const fx = (dx / distance) * force;
                        const fy = (dy / distance) * force;
                        
                        nodeA.vx -= fx;
                        nodeA.vy -= fy;
                        nodeB.vx += fx;
                        nodeB.vy += fy;
                    }
                }
            }

            // 2. ì—°ê²°ëœ ë…¸ë“œ ê°„ ì¸ë ¥ ì ìš©
            algorithmData.forEach(node => {
                if (node.relations) {
                    node.relations.forEach(relation => {
                        const targetNode = algorithmData.find(n => n.id === relation.target);
                        if (targetNode) {
                            if (currentStream !== 'all' && 
                                (node.stream !== currentStream || targetNode.stream !== currentStream)) return;

                            const dx = targetNode.x - node.x;
                            const dy = targetNode.y - node.y;
                            const distance = Math.sqrt(dx * dx + dy * dy) || 1;
                            
                            const force = distance * attractionStrength;
                            const fx = (dx / distance) * force;
                            const fy = (dy / distance) * force;
                            
                            node.vx += fx;
                            node.vy += fy;
                            targetNode.vx -= fx;
                            targetNode.vy -= fy;
                        }
                    });
                }
            });

            // 3. Tier ì¤‘ì•™ìœ¼ë¡œ ëŒì–´ë‹¹ê¸°ëŠ” í˜
            algorithmData.forEach(node => {
                if (currentStream !== 'all' && node.stream !== currentStream) return;

                const tierRegion = tierRegions.find(r => r.tier === node.tier);
                if (tierRegion) {
                    // Tierì˜ ì„¸ë¡œ ì¤‘ì•™
                    const tierCenterY = tierRegion.y + tierRegion.height / 2;
                    const dy = tierCenterY - node.y;
                    
                    // ì¤‘ì•™ìœ¼ë¡œ ë¶€ë“œëŸ½ê²Œ ëŒì–´ë‹¹ê¹€
                    node.vy += dy * centeringForce;
                }
            });

            // 4. ìœ„ì¹˜ ì—…ë°ì´íŠ¸ ë° ê²½ê³„ ì œí•œ
            algorithmData.forEach(node => {
                if (currentStream !== 'all' && node.stream !== currentStream) return;

                node.x += node.vx;
                node.y += node.vy;
                
                // ìº”ë²„ìŠ¤ ê²½ê³„ ì œí•œ
                node.x = Math.max(20, Math.min(node.x, canvas.width - nodeWidth - 20));
                
                // Tierë³„ Y ì¢Œí‘œ ì œí•œ (ì˜ì—­ ë‚´ë¶€ë¡œ ì œí•œ)
                const tierRegion = tierRegions.find(r => r.tier === node.tier);
                if (tierRegion) {
                    node.y = Math.max(tierRegion.y + 10, 
                                     Math.min(node.y, tierRegion.y + tierRegion.height - nodeHeight - 10));
                }
                
                // ì†ë„ ê°ì‡ 
                node.vx *= dampening;
                node.vy *= dampening;
            });

            // 5. ê²¹ì¹¨ í•´ì†Œ (ì¶”ê°€ ì•ˆì „ ì¥ì¹˜) - ë” ê°•í™”ëœ ë²„ì „
            resolveOverlaps();
        }

        // ê²¹ì¹¨ í•´ì†Œ í•¨ìˆ˜ (ê°•í™” ë²„ì „)
        function resolveOverlaps() {
            const nodeWidth = 160;
            const nodeHeight = 60;
            const margin = 50; // ì—¬ìœ  ê³µê°„ ì¦ê°€ (25 â†’ 50)
            
            // ë” ë§ì€ ë°˜ë³µìœ¼ë¡œ ì™„ë²½í•œ ë¶„ë¦¬ ë³´ì¥
            for (let iteration = 0; iteration < 5; iteration++) {
                for (let i = 0; i < algorithmData.length; i++) {
                    for (let j = i + 1; j < algorithmData.length; j++) {
                        const nodeA = algorithmData[i];
                        const nodeB = algorithmData[j];
                        
                        if (currentStream !== 'all' && 
                            (nodeA.stream !== currentStream || nodeB.stream !== currentStream)) continue;

                        // ê°™ì€ Tierì¸ ê²½ìš°ë§Œ ì²´í¬ (ë‹¤ë¥¸ TierëŠ” Yì¶•ì´ ë‹¤ë¥´ë¯€ë¡œ ê²¹ì¹  ì—¼ë ¤ ì—†ìŒ)
                        if (nodeA.tier !== nodeB.tier) continue;

                        // AABB (Axis-Aligned Bounding Box) ì¶©ëŒ ê²€ì‚¬
                        const overlapX = (nodeA.x < nodeB.x + nodeWidth + margin) && 
                                        (nodeA.x + nodeWidth + margin > nodeB.x);
                        const overlapY = (nodeA.y < nodeB.y + nodeHeight + margin) && 
                                        (nodeA.y + nodeHeight + margin > nodeB.y);
                        
                        if (overlapX && overlapY) {
                            // ê²¹ì¹¨ ë°œìƒ - ë°€ì–´ë‚´ê¸°
                            const centerAX = nodeA.x + nodeWidth / 2;
                            const centerAY = nodeA.y + nodeHeight / 2;
                            const centerBX = nodeB.x + nodeWidth / 2;
                            const centerBY = nodeB.y + nodeHeight / 2;
                            
                            const dx = centerBX - centerAX;
                            const dy = centerBY - centerAY;
                            const distance = Math.sqrt(dx * dx + dy * dy) || 1;
                            
                            // ê²¹ì¹œ ì •ë„ ê³„ì‚°
                            const overlapAmount = (nodeWidth + margin) - Math.abs(dx);
                            const pushDistance = overlapAmount / 2 + 10; // ì¶”ê°€ ì—¬ìœ  ê³µê°„
                            
                            // Xì¶•ìœ¼ë¡œ ë°€ì–´ë‚´ê¸° (ìš°ì„ )
                            if (Math.abs(dx) > Math.abs(dy)) {
                                const direction = dx > 0 ? 1 : -1;
                                nodeA.x -= direction * pushDistance;
                                nodeB.x += direction * pushDistance;
                            } else {
                                // Yì¶•ìœ¼ë¡œ ë°€ì–´ë‚´ê¸° (Tier ë‚´ë¶€ì—ì„œë§Œ)
                                const direction = dy > 0 ? 1 : -1;
                                const tierRegionA = tierRegions.find(r => r.tier === nodeA.tier);
                                
                                if (tierRegionA) {
                                    const newAY = nodeA.y - direction * pushDistance;
                                    const newBY = nodeB.y + direction * pushDistance;
                                    
                                    // Tier ê²½ê³„ ë‚´ì—ì„œë§Œ ì´ë™
                                    if (newAY >= tierRegionA.y + 10 && 
                                        newAY <= tierRegionA.y + tierRegionA.height - nodeHeight - 10) {
                                        nodeA.y = newAY;
                                    }
                                    if (newBY >= tierRegionA.y + 10 && 
                                        newBY <= tierRegionA.y + tierRegionA.height - nodeHeight - 10) {
                                        nodeB.y = newBY;
                                    }
                                }
                            }
                            
                            // ìº”ë²„ìŠ¤ ê²½ê³„ ì¬í™•ì¸
                            nodeA.x = Math.max(20, Math.min(nodeA.x, canvas.width - nodeWidth - 20));
                            nodeB.x = Math.max(20, Math.min(nodeB.x, canvas.width - nodeWidth - 20));
                        }
                    }
                }
            }
        }

        // Force-Directed Layout ì‹œì‘
        function startForceLayout() {
            if (isSimulating) {
                stopForceLayout();
                return;
            }
            
            isSimulating = true;
            const btn = document.getElementById('btnForceLayout');
            if (btn) btn.textContent = 'ìë™ ë°°ì¹˜ ì¤‘...';
            
            let iterations = 0;
            const maxIterations = 500;
            const maxDuration = 2000; // 2ì´ˆ (ë°€ë¦¬ì´ˆ)
            const startTime = Date.now();
            
            simulationInterval = setInterval(() => {
                applyForceDirectedLayout();
                drawGraph();
                
                iterations++;
                const elapsed = Date.now() - startTime;
                
                // 2ì´ˆ ê²½ê³¼ ì‹œ ìë™ ì¤‘ì§€
                if (elapsed >= maxDuration) {
                    stopForceLayout();
                    return;
                }
                
                // ìµœëŒ€ ë°˜ë³µ íšŸìˆ˜ ë„ë‹¬ ì‹œ ì¤‘ì§€
                if (iterations >= maxIterations) {
                    stopForceLayout();
                    return;
                }
                
                // ì†ë„ê°€ ì¶©ë¶„íˆ ì‘ì•„ì§€ë©´ ì¤‘ì§€
                const totalVelocity = algorithmData.reduce((sum, node) => {
                    if (currentStream !== 'all' && node.stream !== currentStream) return sum;
                    return sum + Math.abs(node.vx) + Math.abs(node.vy);
                }, 0);
                
                if (totalVelocity < 0.5) {
                    stopForceLayout();
                }
            }, 16); // ~60 FPS
        }

        // Force-Directed Layout ì¤‘ì§€
        function stopForceLayout() {
            isSimulating = false;
            if (simulationInterval) {
                clearInterval(simulationInterval);
                simulationInterval = null;
            }
            const btn = document.getElementById('btnForceLayout');
            if (btn) btn.textContent = 'ìë™ ë°°ì¹˜ ì‹œì‘';
        }

        // ê¸°ë³¸ ë°°ì¹˜ ë°ì´í„° (algorithm_layout_2025-10-17.jsonì—ì„œ ë³µì‚¬)
        const DEFAULT_LAYOUT = [
  {"id": "array_list", "x": 1120.5217757590472, "y": 289},
  {"id": "stack_queue", "x": 542.1365655571078, "y": 159.1076625255298},
  {"id": "hash_set", "x": 218.90653599404624, "y": 140.90800384783603},
  {"id": "sorting", "x": 2184.4422324389598, "y": 356},
  {"id": "recursion", "x": 3029.4422324389598, "y": 305},
  {"id": "bruteforce", "x": 3712.3626891188724, "y": 353.00745827087786},
  {"id": "binary_search", "x": 2054.898122977818, "y": 768.7447874746696},
  {"id": "two_pointer", "x": 323.0123687443892, "y": 559.4844130029579},
  {"id": "prefix_sum", "x": 642.6735262019263, "y": 533.4288261101046},
  {"id": "greedy", "x": 1827.17575271639, "y": 554.940330293139},
  {"id": "priority_queue", "x": 1475.9882919283964, "y": 531.2453199806619},
  {"id": "graph_basic", "x": 973.8316351723024, "y": 654.718533349995},
  {"id": "backtracking", "x": 3406.7696714802264, "y": 550.3424717994598},
  {"id": "dfs_bfs", "x": 515.8105785998093, "y": 1001.5986431098004},
  {"id": "dijkstra", "x": 1344.7002164380153, "y": 1039.8387487292925},
  {"id": "dp_basic", "x": 2547.4507334504624, "y": 976.6405253774019},
  {"id": "divide_conquer", "x": 3326.5569936546776, "y": 975.855072727597},
  {"id": "union_find", "x": 1014.8105785998093, "y": 1119.2585633459926},
  {"id": "meet_in_the_middle", "x": 3622.6213896139784, "y": 1015.9569157070534},
  {"id": "segment_tree", "x": 3194.517202176512, "y": 1458.7908308381632},
  {"id": "trie", "x": 2763.4955306070688, "y": 1412.0255960699503},
  {"id": "topological_sort", "x": 152.5825855435735, "y": 1463.7743490426258},
  {"id": "mst", "x": 856.5825855435735, "y": 1537.9244327198796},
  {"id": "lca", "x": 341.30470710496047, "y": 1707.8144517168953},
  {"id": "scc", "x": 672.9852672365801, "y": 1652.1841143905256},
  {"id": "kmp", "x": 1099.476155949279, "y": 1467.6641322488103},
  {"id": "bitmask_dp", "x": 2265.7729237895437, "y": 1505.981018482381},
  {"id": "lazy_propagation", "x": 3330.160487106107, "y": 2077.037230043804},
  {"id": "mos_algorithm", "x": 3007.585598124444, "y": 2153.4197424556774},
  {"id": "max_flow", "x": 151.613362257095, "y": 1887.9200632380334},
  {"id": "aho_corasick", "x": 1286.0393173182501, "y": 1917.2304616088638},
  {"id": "convex_hull_trick", "x": 2537.9961128841824, "y": 2025.3309138087766},
  {"id": "gcd_lcm", "x": 4056.8637313580352, "y": 359.7035557099791},
  {"id": "prime_sieve", "x": 4428.120578901389, "y": 379},
  {"id": "modular_arithmetic", "x": 1586.9546646010754, "y": 633.7172645690379},
  {"id": "combinatorics", "x": 1685.8981229778178, "y": 835.5050508143136},
  {"id": "extended_euclidean", "x": 3821.0774959330047, "y": 1008.1466360553529},
  {"id": "chinese_remainder", "x": 4177.2424934067785, "y": 976.7176979303094},
  {"id": "euler_phi", "x": 4297.125964978033, "y": 1572.0501752722203},
  {"id": "inclusion_exclusion", "x": 1684.6696404800784, "y": 1465.9347230344144},
  {"id": "fft", "x": 3664.9766894575864, "y": 1886.9708444787993},
  {"id": "miller_rabin", "x": 4456.216358666794, "y": 1896.2229466601138},
  {"id": "geometry_basics", "x": 4791.1325135235365, "y": 1002.1775898779119},
  {"id": "ccw", "x": 4792.366004379926, "y": 1169.464991469556},
  {"id": "line_intersection", "x": 4574.794902327258, "y": 1623.3167168396258},
  {"id": "convex_hull", "x": 3916.960861684378, "y": 1619.4163523053573},
  {"id": "rotating_calipers", "x": 3770.743236673169, "y": 1995.8141481844295},
  {"id": "implementation", "x": 4661.635629026799, "y": 340.22243332064266},
  {"id": "arithmetic", "x": 4890.6252243006475, "y": 345.65255888044067},
  {"id": "simulation", "x": 4633.063524954779, "y": 699.7298124201398},
  {"id": "sliding_window", "x": 318.5510510320564, "y": 789.9855173345458},
  {"id": "parametric_search", "x": 1935.147437463038, "y": 881.5637212468322},
  {"id": "linked_list", "x": 835.4651811073672, "y": 535.4482717633022},
  {"id": "floyd_warshall", "x": 200.74253877158577, "y": 1013.8493772499821},
  {"id": "bellman_ford", "x": 1446.7425387715857, "y": 1216.3220751481088},
  {"id": "knapsack", "x": 2690.0774959330042, "y": 1152.550628594927},
  {"id": "lis", "x": 2317.53360225203, "y": 1015.2889372995901},
  {"id": "dag", "x": 746.8051182984236, "y": 999.6154997885371},
  {"id": "fenwick_tree", "x": 3406.9033442569716, "y": 1659.660804348836},
  {"id": "sqrt_decomposition", "x": 1283.050686066675, "y": 1463.819103670485},
  {"id": "bipartite_matching", "x": 527.1259649780336, "y": 1472.190767677616},
  {"id": "two_sat", "x": 904.2102732167418, "y": 1759.6602689998722},
  {"id": "tree_dp", "x": 1480.2102732167418, "y": 1466.9846511306746},
  {"id": "sparse_table", "x": 3444.7575513975, "y": 1543.0888460705667},
  {"id": "articulation", "x": 748.4501569381, "y": 1437.6070106264963},
  {"id": "mcmf", "x": 218.64454048305447, "y": 2152.3033618669906},
  {"id": "suffix_array", "x": 2135.798527008167, "y": 1893.678774771996},
  {"id": "hld", "x": 953.6445404830545, "y": 2187.5217398414084},
  {"id": "persistent_seg", "x": 3417.3967396358976, "y": 1908.6310211842078},
  {"id": "splay_tree", "x": 3190.0287149259557, "y": 1972.2370765899623},
  {"id": "parallel_binary_search", "x": 1834.8317762014349, "y": 2012.079971523188},
  {"id": "manacher", "x": 1054.434277935382, "y": 1946.4096418966478},
  {"id": "dnc_optimization", "x": 2724.605349620199, "y": 1943.450224660919},
  {"id": "prime_factorization", "x": 4534.769671480226, "y": 552.6021180656337},
  {"id": "exponentiation", "x": 1529.6022271323782, "y": 1047.398539667353},
  {"id": "matrix_multiply", "x": 5030.341323354844, "y": 991.9797354762179},
  {"id": "game_theory", "x": 2434.801773017967, "y": 1445.5348024018854},
  {"id": "sprague_grundy", "x": 2335.798527008167, "y": 1996.3463456746736},
  {"id": "mobius", "x": 4272.216358666794, "y": 1892.7356852479613},
  {"id": "pollard_rho", "x": 4489.028714925956, "y": 2076.949606185582},
  {"id": "sweeping", "x": 1797.0101372818363, "y": 985.883793660531},
  {"id": "polygon_area", "x": 4776.794902327258, "y": 1617.3946200596447},
  {"id": "point_in_polygon", "x": 4976.8701236071265, "y": 1611.5568630550201},
  {"id": "half_plane_intersection", "x": 4074.70976909449, "y": 2008.799434442758},
  {"id": "closest_pair", "x": 2051.840533649835, "y": 2155.375756515554}
        ];

        // ê¸°ë³¸ ë°°ì¹˜ ë°ì´í„° ë™ì  ë¡œë“œ ë° ì ìš©
        // ê¸°ë³¸ ë°°ì¹˜ ë°ì´í„° ë¡œë“œ ë° ì ìš© (JSON ê¸°ë°˜)
        async function applyDefaultLayout() {
            try {
                // ë¨¼ì € í•˜ë“œì½”ë”©ëœ DEFAULT_LAYOUTì„ ì‚¬ìš©
                DEFAULT_LAYOUT.forEach(layoutItem => {
                    const node = algorithmData.find(n => n.id === layoutItem.id);
                    if (node) {
                        node.x = layoutItem.x;
                        node.y = layoutItem.y;
                        node.vx = 0;
                        node.vy = 0;
                    }
                });
                
                console.log('âœ“ ê¸°ë³¸ ë°°ì¹˜ê°€ ì ìš©ë˜ì—ˆìŠµë‹ˆë‹¤. (' + DEFAULT_LAYOUT.length + 'ê°œ í•­ëª©)');
                drawGraph();
                
            } catch (error) {
                console.warn('ê¸°ë³¸ ë°°ì¹˜ ì ìš© ì˜¤ë¥˜:', error.message);
                console.log('â†’ Tierë³„ ì •ë ¬ë¡œ ëŒ€ì²´í•©ë‹ˆë‹¤.');
                resetToTierLayout();
            }
        }

        // Tierë³„ ì´ˆê¸° ìœ„ì¹˜ ì„¤ì •
        function resetToTierLayout() {
            const streamGroups = {
                algorithm: [],
                math: [],
                geometry: []
            };
            
            // ìŠ¤íŠ¸ë¦¼ë³„ë¡œ ê·¸ë£¹í™”
            algorithmData.forEach(node => {
                streamGroups[node.stream].push(node);
            });
            
            // ê° ìŠ¤íŠ¸ë¦¼ë³„ë¡œ X ì˜¤í”„ì…‹ ì„¤ì •
            const streamOffsets = {
                algorithm: 100,
                math: 1400,
                geometry: 2400
            };
            
            Object.keys(streamGroups).forEach(stream => {
                const nodes = streamGroups[stream];
                const baseX = streamOffsets[stream];
                
                // Tierë³„ë¡œ ë¶„ë¥˜
                for (let tier = 1; tier <= 5; tier++) {
                    const tierNodes = nodes.filter(n => n.tier === tier);
                    const tierRegion = tierRegions.find(r => r.tier === tier);
                    
                    if (!tierRegion) continue;
                    
                    // X ì¢Œí‘œ ê· ë“± ë¶„ë°°
                    tierNodes.forEach((node, index) => {
                        node.x = baseX + (index * 220);
                        node.y = tierRegion.y + 130;
                        node.vx = 0;
                        node.vy = 0;
                    });
                }
            });
            
            drawGraph();
        }
        function showStream(stream) {
            currentStream = stream;
            selectedNode = null;
            document.querySelectorAll('.controls button').forEach(btn => btn.classList.remove('active'));
            document.getElementById('btn' + stream.charAt(0).toUpperCase() + stream.slice(1)).classList.add('active');
            drawGraph();
        }

        function showAllStreams() {
            currentStream = 'all';
            selectedNode = null;
            document.querySelectorAll('.controls button').forEach(btn => btn.classList.remove('active'));
            document.getElementById('btnAll').classList.add('active');
            drawGraph();
        }

        function resetView() {
            selectedNode = null;
            stopForceLayout();
            drawGraph();
        }

        // í˜„ì¬ ë°°ì¹˜ ì •ë³´ ë‚´ë³´ë‚´ê¸°
        function exportLayout() {
            const layoutData = algorithmData.map(node => ({
                id: node.id,
                x: node.x,
                y: node.y
            }));
            
            const json = JSON.stringify(layoutData, null, 2);
            const blob = new Blob([json], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            
            // ë‹¤ìš´ë¡œë“œ ë§í¬ ìƒì„±
            const a = document.createElement('a');
            a.href = url;
            a.download = `algorithm_layout_${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            alert('ë°°ì¹˜ ì •ë³´ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!\níŒŒì¼ëª…: ' + a.download);
        }

        // ë°°ì¹˜ ì •ë³´ ë¡œë“œí•˜ê¸°
        function importLayout() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            
            input.onchange = (e) => {
                const file = e.target.files[0];
                if (!file) return;
                
                const reader = new FileReader();
                reader.onload = (event) => {
                    try {
                        const layoutData = JSON.parse(event.target.result);
                        
                        // ê° ë…¸ë“œì˜ ìœ„ì¹˜ ì—…ë°ì´íŠ¸
                        layoutData.forEach(item => {
                            const node = algorithmData.find(n => n.id === item.id);
                            if (node) {
                                node.x = item.x;
                                node.y = item.y;
                                node.vx = 0;
                                node.vy = 0;
                            }
                        });
                        
                        drawGraph();
                        alert('ë°°ì¹˜ê°€ ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤!');
                    } catch (error) {
                        alert('ë°°ì¹˜ ë¡œë“œ ì‹¤íŒ¨:\n' + error.message);
                    }
                };
                reader.readAsText(file);
            };
            
            document.body.appendChild(input);
            input.click();
            document.body.removeChild(input);
        }

        // ë°°ì¹˜ ì •ë³´ë¥¼ ì½˜ì†”ì— ì¶œë ¥ (ë³µì‚¬ ìš©ë„)
        function printLayoutToConsole() {
            const layoutData = algorithmData.map(node => ({
                id: node.id,
                x: node.x,
                y: node.y
            }));
            
            console.log(JSON.stringify(layoutData, null, 2));
            console.log('\n=== ìœ„ì˜ JSONì„ ë³µì‚¬í•˜ì—¬ ì €ì¥í•˜ì„¸ìš” ===');
        }

        // ëª¨ë‹¬ í‘œì‹œ
        function showModal(node) {
            const modal = document.getElementById('modal');
            document.getElementById('modalTitle').textContent = node.name;
            document.getElementById('modalDescription').textContent = node.description;

            const tagsDiv = document.getElementById('modalTags');
            tagsDiv.innerHTML = '';
            node.tags.forEach(tag => {
                const tagSpan = document.createElement('span');
                tagSpan.className = 'tag';
                tagSpan.textContent = tag;
                tagsDiv.appendChild(tagSpan);
            });

            const problemsList = document.getElementById('modalProblems');
            problemsList.innerHTML = '';
            if (node.problems && node.problems.length > 0) {
                node.problems.forEach(problem => {
                    const li = document.createElement('li');
                    li.className = 'problem-item';
                    const a = document.createElement('a');
                    a.href = problem.url;
                    a.target = '_blank';
                    a.textContent = problem.name;
                    li.appendChild(a);
                    problemsList.appendChild(li);
                });
            } else {
                problemsList.innerHTML = '<li class="problem-item">ì¶”ì²œ ë¬¸ì œê°€ ì—†ìŠµë‹ˆë‹¤.</li>';
            }

            const relationsDiv = document.getElementById('modalRelations');
            const relationsSection = document.getElementById('relationsSection');
            relationsDiv.innerHTML = '';
            
            if (node.relations && node.relations.length > 0) {
                relationsSection.style.display = 'block';
                node.relations.forEach(relation => {
                    const targetNode = algorithmData.find(n => n.id === relation.target);
                    if (targetNode) {
                        const li = document.createElement('li');
                        li.className = 'relation-item';
                        
                        let relationText = '';
                        switch(relation.type) {
                            case 'prerequisite':
                                relationText = `â†’ ì„ í–‰ í•„ìš”: ${targetNode.name}`;
                                break;
                            case 'extension':
                                relationText = `â‡¢ í™•ì¥: ${targetNode.name}`;
                                break;
                            case 'optimization':
                                relationText = `âš¡ ìµœì í™”: ${targetNode.name}`;
                                break;
                            case 'related':
                                relationText = `ğŸ”— ê´€ë ¨: ${targetNode.name}`;
                                break;
                            default:
                                relationText = `â€¢ ${targetNode.name}`;
                        }
                        
                        li.textContent = relationText;
                        li.style.cursor = 'pointer';
                        li.onclick = () => {
                            closeModal();
                            selectedNode = targetNode.id;
                            drawGraph();
                            showModal(targetNode);
                        };
                        relationsDiv.appendChild(li);
                    }
                });
            } else {
                relationsSection.style.display = 'none';
            }

            modal.classList.add('active');
        }

        function closeModal() {
            document.getElementById('modal').classList.remove('active');
        }

        document.getElementById('modal').addEventListener('click', (e) => {
            if (e.target.id === 'modal') {
                closeModal();
            }
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeModal();
            }
        });

        // ì´ˆê¸°í™”
        window.addEventListener('load', async () => {
            resizeCanvas();
            await applyDefaultLayout();  // ê¸°ë³¸ ë°°ì¹˜ ì ìš© (ë¹„ë™ê¸° ì²˜ë¦¬)
        });
        window.addEventListener('resize', resizeCanvas);
    </script>
</body>
</html>